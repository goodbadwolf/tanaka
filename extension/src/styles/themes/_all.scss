@use 'sass:map';
@use './base' as base;
@use './twilight';
@use './neon';
@use './midnight';

// Theme registry
$themes: (
  twilight: twilight.$twilight-theme,
  neon: neon.$neon-theme,
  midnight: midnight.$midnight-theme
);

// Default theme
$default-theme: twilight;

// Apply default theme
:root {
  @include base.apply-complete-theme(map.get($themes, $default-theme));
}

// Theme switching
@each $name, $config in $themes {
  [data-theme-style="#{$name}"] {
    @include base.apply-complete-theme($config);

    // Light mode variant
    &[data-mantine-color-scheme="light"] {
      $light-colors: map.get($config, colors-light);
      @if $light-colors {
        @include base.apply-theme($light-colors);
      }
    }
  }
}
