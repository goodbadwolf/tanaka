import"../modulepreload-polyfill-B5Qt9EMX.js";import{b as o}from"../browser-polyfill-DMmbowld.js";const r=document.getElementById("track-window"),i=document.getElementById("status"),d=document.getElementById("open-settings");async function c(){const e=await o.windows.getCurrent();if(!e.id){console.error("Current window has no ID");return}const t={type:"GET_TRACKED_WINDOWS"},n=await o.runtime.sendMessage(t);"windowIds"in n?(r.checked=n.windowIds.includes(e.id),s(r.checked)):"error"in n&&(console.error("Error getting tracked windows:",n.error),i.innerHTML=`<p style="color: red;">Error: ${n.error}</p>`)}function s(e){i.innerHTML=e?'<p style="color: green;">âœ“ This window is being synced</p>':"<p>This window is not being synced</p>"}r.addEventListener("change",async()=>{const e=await o.windows.getCurrent();if(!e.id){console.error("Current window has no ID"),r.checked=!r.checked;return}const t=r.checked?{type:"TRACK_WINDOW",windowId:e.id}:{type:"UNTRACK_WINDOW",windowId:e.id},n=await o.runtime.sendMessage(t);"error"in n?(console.error("Error updating window tracking:",n.error),i.innerHTML=`<p style="color: red;">Error: ${n.error}</p>`,r.checked=!r.checked):s(r.checked)});d.addEventListener("click",e=>{e.preventDefault(),o.runtime.openOptionsPage(),window.close()});c();
//# sourceMappingURL=popup.js.map
