<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tanaka - Window Details</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
          sans-serif;
        background: #0a0a0b;
        color: #e7e7e8;
        width: 600px;
        height: 600px;
        overflow: hidden;
        position: relative;
      }

      /* Slide-in Animation */
      .window-details {
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background: #0a0a0b;
        transform: translateX(100%);
        animation: slideIn 0.3s ease-out forwards;
      }

      @keyframes slideIn {
        to {
          transform: translateX(0);
        }
      }

      /* Header */
      .details-header {
        background: linear-gradient(135deg, #1a1a1c 0%, #0f0f10 100%);
        padding: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        position: relative;
        overflow: hidden;
      }

      .details-header::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
        animation: pulse 4s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.5;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .header-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
        position: relative;
        z-index: 1;
      }

      .back-button {
        width: 36px;
        height: 36px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 18px;
      }

      .back-button:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(-2px);
      }

      .header-actions {
        display: flex;
        gap: 8px;
      }

      .action-button {
        padding: 8px 16px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        color: #e7e7e8;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .action-button:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .action-button.primary {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        border: none;
        color: white;
      }

      .action-button.primary:hover {
        background: linear-gradient(135deg, #5558e3 0%, #7c4ce6 100%);
      }

      /* Window Info */
      .window-info {
        position: relative;
        z-index: 1;
      }

      .window-title-row {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px;
      }

      .window-icon {
        width: 40px;
        height: 40px;
        background: rgba(99, 102, 241, 0.1);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
      }

      .window-title {
        font-size: 20px;
        font-weight: 600;
        flex: 1;
        cursor: text;
        padding: 2px 6px;
        margin-left: -6px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .window-title:hover {
        background: rgba(255, 255, 255, 0.05);
      }

      .window-title.editing {
        background: rgba(255, 255, 255, 0.1);
        outline: 2px solid #6366f1;
        outline-offset: -2px;
      }

      .edit-input {
        font-size: 20px;
        font-weight: 600;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid #6366f1;
        border-radius: 4px;
        color: #e7e7e8;
        padding: 2px 8px;
        outline: none;
        font-family: inherit;
        width: 100%;
      }

      .window-meta {
        display: flex;
        align-items: center;
        gap: 20px;
        font-size: 13px;
        color: #a1a1aa;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      /* Search and Filter Bar */
      .search-filter-bar {
        padding: 16px 20px;
        background: rgba(255, 255, 255, 0.02);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .search-box {
        flex: 1;
        position: relative;
      }

      .search-input {
        width: 100%;
        padding: 8px 36px 8px 12px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        color: #e7e7e8;
        font-size: 14px;
        transition: all 0.2s ease;
      }

      .search-input:focus {
        outline: none;
        background: rgba(255, 255, 255, 0.08);
        border-color: #6366f1;
      }

      .search-clear {
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 12px;
        opacity: 0;
        transition: all 0.2s ease;
      }

      .search-input:not(:placeholder-shown) ~ .search-clear {
        opacity: 1;
      }

      .filter-button {
        padding: 8px 14px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        color: #a1a1aa;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .filter-button:hover {
        background: rgba(255, 255, 255, 0.08);
        color: #e7e7e8;
      }

      .filter-button.active {
        background: rgba(99, 102, 241, 0.15);
        border-color: rgba(99, 102, 241, 0.3);
        color: #e7e7e8;
      }

      /* Tab Stats */
      .tab-stats {
        padding: 16px 20px;
        background: rgba(255, 255, 255, 0.03);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        display: flex;
        justify-content: space-around;
      }

      .stat {
        text-align: center;
      }

      .stat-value {
        font-size: 20px;
        font-weight: 600;
        color: #6366f1;
        margin-bottom: 2px;
      }

      .stat-label {
        font-size: 12px;
        color: #6b7280;
      }

      /* Tab List */
      .tab-list {
        flex: 1;
        overflow-y: auto;
        padding: 16px;
      }

      /* Tab Group */
      .tab-group {
        margin-bottom: 24px;
      }

      .group-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .group-header:hover {
        background: rgba(255, 255, 255, 0.05);
      }

      .group-title {
        font-size: 13px;
        font-weight: 600;
        color: #a1a1aa;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .group-count {
        font-size: 12px;
        color: #6b7280;
        background: rgba(255, 255, 255, 0.05);
        padding: 2px 8px;
        border-radius: 10px;
      }

      /* Tab Item */
      .tab-item {
        display: flex;
        align-items: center;
        padding: 12px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
      }

      .tab-item:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(99, 102, 241, 0.3);
        transform: translateX(2px);
      }

      .tab-item.active {
        background: rgba(99, 102, 241, 0.1);
        border-color: rgba(99, 102, 241, 0.3);
      }

      .tab-item.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: #6366f1;
      }

      .tab-item.pinned {
        background: rgba(245, 158, 11, 0.05);
        border-color: rgba(245, 158, 11, 0.2);
      }

      .tab-checkbox {
        width: 18px;
        height: 18px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        margin-right: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .tab-item.selected .tab-checkbox {
        background: #6366f1;
        border-color: #6366f1;
      }

      .tab-item.selected .tab-checkbox::after {
        content: '✓';
        color: white;
        font-size: 12px;
      }

      .tab-favicon {
        width: 24px;
        height: 24px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 14px;
        flex-shrink: 0;
      }

      .tab-content {
        flex: 1;
        min-width: 0;
      }

      .tab-title {
        font-size: 14px;
        font-weight: 500;
        margin-bottom: 2px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .tab-url {
        font-size: 12px;
        color: #6b7280;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .tab-actions {
        display: flex;
        gap: 4px;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .tab-item:hover .tab-actions {
        opacity: 1;
      }

      .tab-action {
        width: 28px;
        height: 28px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 13px;
      }

      .tab-action:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
      }

      /* Footer Actions */
      .footer-actions {
        padding: 16px 20px;
        background: rgba(255, 255, 255, 0.03);
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .selection-info {
        font-size: 13px;
        color: #a1a1aa;
      }

      .bulk-actions {
        display: flex;
        gap: 8px;
      }

      /* Empty State */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 300px;
        text-align: center;
      }

      .empty-icon {
        width: 64px;
        height: 64px;
        background: rgba(99, 102, 241, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
        font-size: 28px;
      }

      .empty-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .empty-text {
        font-size: 14px;
        color: #6b7280;
      }

      /* Drag and Drop */
      .tab-item.dragging {
        opacity: 0.5;
        transform: scale(0.95);
      }

      .tab-item.drag-over {
        border-color: #6366f1;
        background: rgba(99, 102, 241, 0.05);
      }

      .drop-indicator {
        height: 2px;
        background: #6366f1;
        margin: 4px 0;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .drop-indicator.active {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <div class="window-details">
      <!-- Header -->
      <div class="details-header">
        <div class="header-top">
          <button class="back-button" onclick="goBack()">←</button>
          <div class="header-actions">
            <button class="action-button" onclick="duplicateWindow()">
              <span>📋</span>
              <span>Duplicate</span>
            </button>
            <button class="action-button" onclick="shareWindow()">
              <span>🔗</span>
              <span>Share</span>
            </button>
            <button class="action-button primary" onclick="openAllTabs()">
              <span>↗</span>
              <span>Open All</span>
            </button>
          </div>
        </div>
        <div class="window-info">
          <div class="window-title-row">
            <div class="window-icon">💻</div>
            <h1 class="window-title" onclick="editTitle(this)">Work - MacBook Pro</h1>
          </div>
          <div class="window-meta">
            <span class="meta-item">
              <span>📍</span>
              <span>MacBook Pro</span>
            </span>
            <span class="meta-item">
              <span>🔄</span>
              <span>Synced 2 min ago</span>
            </span>
            <span class="meta-item">
              <span>📅</span>
              <span>Created March 10, 2024</span>
            </span>
          </div>
        </div>
      </div>

      <!-- Search and Filter -->
      <div class="search-filter-bar">
        <div class="search-box">
          <input type="text" class="search-input" placeholder="Search tabs in this window..." />
          <button class="search-clear" onclick="clearSearch()">✕</button>
        </div>
        <button class="filter-button" onclick="toggleFilter('active')">
          <span>⚡</span>
          <span>Active</span>
        </button>
        <button class="filter-button" onclick="toggleFilter('pinned')">
          <span>📌</span>
          <span>Pinned</span>
        </button>
      </div>

      <!-- Tab Stats -->
      <div class="tab-stats">
        <div class="stat">
          <div class="stat-value">45</div>
          <div class="stat-label">Total Tabs</div>
        </div>
        <div class="stat">
          <div class="stat-value">3</div>
          <div class="stat-label">Pinned</div>
        </div>
        <div class="stat">
          <div class="stat-value">12</div>
          <div class="stat-label">Active Today</div>
        </div>
        <div class="stat">
          <div class="stat-value">8</div>
          <div class="stat-label">Domains</div>
        </div>
      </div>

      <!-- Tab List -->
      <div class="tab-list">
        <!-- Pinned Tabs Group -->
        <div class="tab-group">
          <div class="group-header">
            <span class="group-title">
              <span>📌</span>
              <span>Pinned Tabs</span>
            </span>
            <span class="group-count">3</span>
          </div>

          <div class="tab-item pinned" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">📧</div>
            <div class="tab-content">
              <div class="tab-title">Gmail - Inbox (47)</div>
              <div class="tab-url">mail.google.com</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Unpin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>

          <div class="tab-item pinned" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">💬</div>
            <div class="tab-content">
              <div class="tab-title">Slack - General Channel</div>
              <div class="tab-url">app.slack.com</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Unpin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>

          <div class="tab-item pinned" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">📊</div>
            <div class="tab-content">
              <div class="tab-title">Analytics Dashboard</div>
              <div class="tab-url">analytics.company.com</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Unpin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>
        </div>

        <!-- Active Tabs Group -->
        <div class="tab-group">
          <div class="group-header">
            <span class="group-title">
              <span>🔥</span>
              <span>Active Tabs</span>
            </span>
            <span class="group-count">12</span>
          </div>

          <div class="tab-item active" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">🔍</div>
            <div class="tab-content">
              <div class="tab-title">GitHub - Tanaka Project</div>
              <div class="tab-url">github.com/goodbadwolf/tanaka</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Pin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>

          <div class="tab-item" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">📝</div>
            <div class="tab-content">
              <div class="tab-title">Google Docs - Q1 Report Draft</div>
              <div class="tab-url">docs.google.com/document/d/1234...</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Pin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>

          <div class="tab-item" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">🎨</div>
            <div class="tab-content">
              <div class="tab-title">Figma - UI Design System</div>
              <div class="tab-url">figma.com/file/abc123...</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Pin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>
        </div>

        <!-- Other Tabs Group -->
        <div class="tab-group">
          <div class="group-header">
            <span class="group-title">
              <span>📁</span>
              <span>Other Tabs</span>
            </span>
            <span class="group-count">30</span>
          </div>

          <div class="tab-item" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">🔧</div>
            <div class="tab-content">
              <div class="tab-title">Stack Overflow - How to implement CRDT</div>
              <div class="tab-url">stackoverflow.com/questions/...</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Pin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>

          <div class="tab-item" onclick="toggleSelect(this)">
            <div class="tab-checkbox"></div>
            <div class="tab-favicon">📖</div>
            <div class="tab-content">
              <div class="tab-title">MDN - Web Workers API</div>
              <div class="tab-url">developer.mozilla.org/en-US/docs/...</div>
            </div>
            <div class="tab-actions">
              <button class="tab-action" title="Open">↗</button>
              <button class="tab-action" title="Pin">📌</button>
              <button class="tab-action" title="Close">✕</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Actions -->
      <div class="footer-actions">
        <span class="selection-info"> <span id="selectionCount">0</span> tabs selected </span>
        <div class="bulk-actions">
          <button class="action-button" onclick="bookmarkSelected()">
            <span>⭐</span>
            <span>Bookmark</span>
          </button>
          <button class="action-button" onclick="closeSelected()">
            <span>✕</span>
            <span>Close</span>
          </button>
        </div>
      </div>
    </div>

    <script>
      // Window title editing
      function editTitle(element) {
        if (element.classList.contains('editing')) return;

        const originalText = element.textContent;
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'edit-input';
        input.value = originalText;

        element.classList.add('editing');
        element.style.display = 'none';
        element.parentNode.insertBefore(input, element.nextSibling);
        input.focus();
        input.select();

        const saveEdit = () => {
          const newText = input.value.trim() || originalText;
          element.textContent = newText;
          element.style.display = 'block';
          element.classList.remove('editing');
          input.remove();
        };

        input.addEventListener('blur', saveEdit);
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            saveEdit();
          } else if (e.key === 'Escape') {
            input.value = originalText;
            saveEdit();
          }
        });
      }

      // Tab selection
      let selectedTabs = new Set();

      function toggleSelect(tabItem) {
        if (event.target.closest('.tab-actions')) return;

        tabItem.classList.toggle('selected');
        const tabId = tabItem.dataset.tabId || Math.random().toString();

        if (tabItem.classList.contains('selected')) {
          selectedTabs.add(tabId);
        } else {
          selectedTabs.delete(tabId);
        }

        updateSelectionCount();
      }

      function updateSelectionCount() {
        document.getElementById('selectionCount').textContent = selectedTabs.size;
      }

      // Search functionality
      const searchInput = document.querySelector('.search-input');
      searchInput.addEventListener('input', (e) => {
        performSearch(e.target.value);
      });

      function clearSearch() {
        searchInput.value = '';
        performSearch('');
      }

      function performSearch(query) {
        console.log('Searching for:', query);
        // Implement search logic
      }

      // Filter functionality
      function toggleFilter(filterType) {
        const button = event.target.closest('.filter-button');
        button.classList.toggle('active');
        applyFilters();
      }

      function applyFilters() {
        console.log('Applying filters...');
        // Implement filter logic
      }

      // Group collapsing
      document.querySelectorAll('.group-header').forEach((header) => {
        header.addEventListener('click', () => {
          const group = header.parentElement;
          group.classList.toggle('collapsed');
          // In real implementation, hide/show tabs
        });
      });

      // Actions
      function goBack() {
        // Slide out animation
        const details = document.querySelector('.window-details');
        details.style.animation = 'slideOut 0.3s ease-out forwards';

        setTimeout(() => {
          console.log('Going back to popup');
        }, 300);
      }

      function duplicateWindow() {
        console.log('Duplicating window');
      }

      function shareWindow() {
        console.log('Sharing window');
      }

      function openAllTabs() {
        if (confirm('Open all 45 tabs? This may affect browser performance.')) {
          console.log('Opening all tabs');
        }
      }

      function bookmarkSelected() {
        console.log('Bookmarking', selectedTabs.size, 'tabs');
      }

      function closeSelected() {
        if (confirm(`Close ${selectedTabs.size} tabs?`)) {
          console.log('Closing selected tabs');
        }
      }

      // Tab actions
      document.querySelectorAll('.tab-action').forEach((button) => {
        button.addEventListener('click', (e) => {
          e.stopPropagation();
          const action = button.getAttribute('title');
          console.log('Tab action:', action);
        });
      });

      // Drag and drop (basic implementation)
      let draggedItem = null;

      document.querySelectorAll('.tab-item').forEach((item) => {
        item.draggable = true;

        item.addEventListener('dragstart', (e) => {
          draggedItem = item;
          item.classList.add('dragging');
        });

        item.addEventListener('dragend', () => {
          item.classList.remove('dragging');
        });

        item.addEventListener('dragover', (e) => {
          e.preventDefault();
          item.classList.add('drag-over');
        });

        item.addEventListener('dragleave', () => {
          item.classList.remove('drag-over');
        });

        item.addEventListener('drop', (e) => {
          e.preventDefault();
          item.classList.remove('drag-over');

          if (draggedItem && draggedItem !== item) {
            const parent = item.parentNode;
            const nextSibling = item.nextSibling;
            parent.insertBefore(draggedItem, nextSibling);
          }
        });
      });

      // Add slide out animation
      const style = document.createElement('style');
      style.textContent = `
            @keyframes slideOut {
                to {
                    transform: translateX(100%);
                }
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
